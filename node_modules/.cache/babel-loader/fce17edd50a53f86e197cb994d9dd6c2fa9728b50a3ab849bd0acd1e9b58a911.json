{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useMessage } from \"./useMessage\";\nexport const useCreate = () => {\n  _s();\n  const history = useNavigate();\n  const {\n    showMessage\n  } = useMessage();\n  //const apiUrl = \"http://localhost:8080/api/create\";\n  const apiUrl = \"https://nabyss-totomoni.com/api/create\";\n  const [loading, setLoading] = useState(false);\n  const create = useCallback((userName, userPass) => {\n    if (!userName) {\n      showMessage({\n        title: \"ユーザー名を入力してください\",\n        status: \"error\"\n      });\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    axios.post(apiUrl, {\n      name: userName,\n      pass: userPass\n    }).then(res => {\n      if (res.data) {\n        showMessage({\n          title: \"新規登録できました\",\n          status: \"success\"\n        });\n        history(\"/\");\n      }\n    }).catch(error => {\n      if (error.response && error.response.status === 409) {\n        // 409エラーの場合の処理\n        showMessage({\n          title: \"ユーザー名が既に使用されています\",\n          status: \"error\"\n        });\n      } else {\n        // その他のエラーの場合の処理\n        showMessage({\n          title: \"登録に失敗しました\",\n          status: \"error\"\n        });\n      }\n      setLoading(false);\n    });\n  }, [history, showMessage]);\n  return {\n    create,\n    loading\n  };\n};\n_s(useCreate, \"naBsSrZq2qbiP9o+E/vxNol1uh8=\", false, function () {\n  return [useNavigate, useMessage];\n});","map":{"version":3,"names":["useCallback","useState","axios","useNavigate","useMessage","useCreate","_s","history","showMessage","apiUrl","loading","setLoading","create","userName","userPass","title","status","post","name","pass","then","res","data","catch","error","response"],"sources":["/Users/nishidanaoto/reactApp-oriScore/src/hooks/useCreate.tsx"],"sourcesContent":["import { useCallback, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { User } from \"../types/api/user\";\nimport { useMessage } from \"./useMessage\";\n\nexport const useCreate = () => {\n  const history = useNavigate();\n  const { showMessage } = useMessage();\n  //const apiUrl = \"http://localhost:8080/api/create\";\n  const apiUrl = \"https://nabyss-totomoni.com/api/create\";\n  const [loading, setLoading] = useState(false);\n  const create = useCallback(\n    (userName: string, userPass: string) => {\n      if (!userName) {\n        showMessage({ title: \"ユーザー名を入力してください\", status: \"error\" });\n        setLoading(false);\n        return;\n      }\n      setLoading(true);\n      axios\n        .post<User>(apiUrl, {\n          name: userName,\n          pass: userPass\n        })\n        .then((res) => {\n          if (res.data) {\n            showMessage({ title: \"新規登録できました\", status: \"success\" });\n            history(\"/\");\n          } \n        })\n        .catch((error) => {\n          if (error.response && error.response.status === 409) {\n            // 409エラーの場合の処理\n            showMessage({ title: \"ユーザー名が既に使用されています\", status: \"error\" });\n          } else {\n            // その他のエラーの場合の処理\n            showMessage({ title: \"登録に失敗しました\", status: \"error\" });\n          }\n          setLoading(false);\n        });\n    },\n    [history, showMessage]\n  );\n  return { create, loading };\n};"],"mappings":";AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,UAAU,QAAQ,cAAc;AAEzC,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAMC,OAAO,GAAGJ,WAAW,CAAC,CAAC;EAC7B,MAAM;IAAEK;EAAY,CAAC,GAAGJ,UAAU,CAAC,CAAC;EACpC;EACA,MAAMK,MAAM,GAAG,wCAAwC;EACvD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMW,MAAM,GAAGZ,WAAW,CACxB,CAACa,QAAgB,EAAEC,QAAgB,KAAK;IACtC,IAAI,CAACD,QAAQ,EAAE;MACbL,WAAW,CAAC;QAAEO,KAAK,EAAE,gBAAgB;QAAEC,MAAM,EAAE;MAAQ,CAAC,CAAC;MACzDL,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IACAA,UAAU,CAAC,IAAI,CAAC;IAChBT,KAAK,CACFe,IAAI,CAAOR,MAAM,EAAE;MAClBS,IAAI,EAAEL,QAAQ;MACdM,IAAI,EAAEL;IACR,CAAC,CAAC,CACDM,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACC,IAAI,EAAE;QACZd,WAAW,CAAC;UAAEO,KAAK,EAAE,WAAW;UAAEC,MAAM,EAAE;QAAU,CAAC,CAAC;QACtDT,OAAO,CAAC,GAAG,CAAC;MACd;IACF,CAAC,CAAC,CACDgB,KAAK,CAAEC,KAAK,IAAK;MAChB,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACT,MAAM,KAAK,GAAG,EAAE;QACnD;QACAR,WAAW,CAAC;UAAEO,KAAK,EAAE,kBAAkB;UAAEC,MAAM,EAAE;QAAQ,CAAC,CAAC;MAC7D,CAAC,MAAM;QACL;QACAR,WAAW,CAAC;UAAEO,KAAK,EAAE,WAAW;UAAEC,MAAM,EAAE;QAAQ,CAAC,CAAC;MACtD;MACAL,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EACD,CAACJ,OAAO,EAAEC,WAAW,CACvB,CAAC;EACD,OAAO;IAAEI,MAAM;IAAEF;EAAQ,CAAC;AAC5B,CAAC;AAACJ,EAAA,CAvCWD,SAAS;EAAA,QACJF,WAAW,EACHC,UAAU;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}